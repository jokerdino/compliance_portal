{% extends "base_generic.html" %}
{% load django_bootstrap5 %}

{% block content %}
<div class="container my-4">
    <div class="container my-5">

        {% include "partials/task_detail_display.html" with task=task status_audit_logs=status_audit_logs %}
        {% include "partials/related_items.html" with related_task_table=related_task_table %}
        <div class="text-end">
            {% if can_edit %}
            <a href="{% url 'task_edit' task.pk %}" class="btn btn-warning me-2">
                <i class="bi bi-pencil-square"></i> Edit Task
            </a>
            {% endif %}
            {% if can_request_revision %}
            <form method="post" action="{% url 'task_revise' task.pk %}" class="d-inline">
                {% csrf_token %}
                <button type="submit" class="btn btn-danger me-2">
                    <i class="bi bi-pencil-square"></i> Revision required
                </button>
            </form>
            {% endif %}
            <a href="{% url 'task_list' filter='overdue' %}" class="btn btn-secondary">
                <i class="bi bi-list"></i> Back to List
            </a>
        </div>
    </div>
</div>
{% endblock content %}
